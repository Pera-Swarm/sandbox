<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <title>Sandbox - Distance Sensor</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="">
    <meta property="og:type" content="">
    <meta property="og:url" content="">
    <meta property="og:image" content="">

    <link rel="shortcut icon" href="../img/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href="../css/normalize.css">
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">

    <meta name="theme-color" content="#fafafa">
</head>

<body>

    <!-- navbar of the site, loaded using includeHTML() function -->
    <include src="./navbar.html"></include>

    <div class="container pt-2">
        Status: <span id="status">Not connected</span>
        <hr>

        <div class="row p-2">
            <div class="container pb-3">
                <h3>Distance Sensor</h3>
                <div class="p-3">
                    <!-- v1/sensor/distance/{robotId}/? -->
                    <div class="form-group card p-2">
                        <label class="pb-3">Request <i>distance reading</i> from physical robot
                            (<b><span class="channel">{channel}</span>/sensor/distance/<span id="dist-req-robot-id">{robotId}</span>/?
                            </b>)
                        </label>
                        <div class="input-group d-inline-flex align-items-center">
                            <label for="dist-req-id" class="m-2">Robot Id</label>
                            <input id="dist-req-id" type="number" min="0" class="form-control m-2" style="width: 100px;" placeholder="" value="0">
                            <button id="dist-request" class="btn btn-primary" type="submit">Request</button>
                        </div>
                    </div>

                    <!-- v1/sensor/distance/{robotId} -->
                    <div class="form-group card p-2">
                        <label class="pb-3">
                            Reply virtual distance sensor reading by server to robots
                            (<b><span class="channel">{channel}</span>/sensor/distance/<span id="dist-reply-robot-id">{robotId}</span></b>)
                        </label>

                        <div class="input-group d-inline-flex align-items-center">
                            <label for="dist-reply-id" class="m-2">Robot Id:</label>
                            <input id="dist-reply-id" type="number" min="0" class="form-control m-2" style="width: 100px;" placeholder="" value="0">
                            <label for="dist-reply-value" class="m-2">Distance:</label>
                            <input id="dist-reply-value" type="number" min="0" class="form-control m-2" style="width: 100px;" value="10">
                            <button id="dist-reply-btn" class="btn btn-success" type="submit">Reply</button>
                        </div>
                    </div>

                    <div class="form-group card p-2">
                        <!-- Publish: v1/sensor/distance -->
                        <div class="pb-4">
                            <label for="dist-pub-id">
                                Publish to server from a robot (<b><span class="channel">{channel}</span>/sensor/distance</b>)<br>
                            </label>
                            <div class="input-group d-inline-flex align-items-center">
                                <label for="" class="m-2">Robot Id:</label>
                                <input id="dist-pub-id" type="number" min="0" class="form-control m-2" placeholder="" value="0">

                                <label for="dist-pub-value" class="m-2">Distance:</label>
                                <input id="dist-pub-value" type="number" min="0" class="form-control m-2" style="width: 100px;" placeholder="" value="8">
                                <button id="dist-pub-btn"  class="btn btn-success" type="submit">Send</button>
                            </div>
                        </div>

                        <!-- Subscribe: v1/sensor/distance -->
                        <div class="pb-4">
                            <label for="dist-sub-text">
                                Response received from physical robots to the server (<b><span class="channel">{channel}</span>/sensor/distance</b>)<br>
                            </label>

                            <div class="input-group align-self-start">
                                <textarea id="dist-sub-text" type="text" class="form-control mr-2" placeholder="" >{"id":"0","dist":"8"}</textarea>
                                <button id="dist-sub-btn" type="button" class="btn btn-primary">Subscribe</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <script src="../node_modules/bootstrap/dist/js/bootstrap.js"></script>

    <script src="../js/vendor/modernizr-3.11.2.min.js"></script>
    <script src="../js/plugins.js"></script>
    <script src="../js/index.js"></script>
    <script src="../js/distanceSensor.js"></script>
</body>

</html>
